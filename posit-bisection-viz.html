<meta charset="utf-8"/>
<html>
    <head>
        <script src="https://d3js.org/d3.v5.min.js"></script>
        <script src="expect.js/index.js"></script>
        <script src="posit.js"></script>
        <script src="viz.js"></script>
    </head>
    <body>
        <button id='decrement-n'>&lt;&lt; <i>n</i></button>
        <button id='increment-n'>&gt;&gt; <i>n</i></button>
        <button id='decrement-es'>&lt;&lt; <i>es</i></button>
        <button id='increment-es'>&gt;&gt; <i>es</i></button>
    </body>
    <script type="text/javascript">
     // Posit parameters
     var n = 8; var es = 1;
     const nLowerBound = 2; const nUpperBound = 16;
     const esLowerBound = 0;

     var width = 600; var height = 600;
     // An assumption I'm making.
     console.assert(width === height);

     var margin = {left : 50, top : 50, right : 50, bottom : 50};

     var container = d3.select(document.body).append('svg')
                       .attr('width', margin.left + width + margin.right)
                       .attr('height', margin.top + height + margin.bottom)
     // A trick to make a margin without needing the drawing logic to reason about it.
     // See https://bl.ocks.org/mbostock/3019563.
                       .append('g')
                       .attr('transform', 'translate(' + margin.left + ',' + margin.top + ')');

     drawProjectiveRealsLine(container, width, height, n, es);

     d3.select('#decrement-n')
       .on('click', function(){
           if (n > nLowerBound && n > es) {
               --n;
               update(n, es);
           }
       });
     d3.select('#increment-n')
       .on('click', function(){
           if (n < nUpperBound) {
               ++n;
               update(n, es);
           }
       });
     d3.select('#decrement-es')
       .on('click', function(){
           if (es > esLowerBound) {
               --es;
               update(n, es);
           }
       });
     d3.select('#increment-es')
       .on('click', function(){
           if (es < n) {
               ++es;
               update(n, es);
           }
       });

    </script>
</html>
